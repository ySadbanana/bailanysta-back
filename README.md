# Bailanysta

## Описание
Проект для тестового задания в стиле Twitter/Threads. Пользователи могут регистрироваться, публиковать посты, лайкать и репостить чужие записи, искать посты по ключевым словам или хэштегам и переходить на профили других пользователей.  
Фронтенд написан на **Next.js (React, TypeScript)**, бэкенд — на **FastAPI (Python)**, база данных — **PostgreSQL**.

## Установка и запуск (Dev)
### Backend
```bash
git clone https://github.com/ySadbanana/bailanysta-back
cd backend
python -m venv venv && source venv/bin/activate
pip install -r requirements.txt
uvicorn app.main:app --reload --port 8000
```

API доступно на http://localhost:8000 (Swagger UI: /docs).

### Frontend
```bash
git clone https://github.com/ySadbanana/bailanysta-app-new
cd frontend
npm install
cp .env.local.example .env.local
# в .env.local укажите NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
npm run dev
```

## Процесс проектирования

- Разработан REST API с учётом аутентификации (JWT) и прав доступа.
- Спроектирована модель данных: User, Post, Like, Follow, Hashtag.
- Использованы современные возможности Next.js App Router (динамические маршруты /u/[username] для профилей).
- Организована интеграция фронта и бэка через типизированный клиент lib/api.ts.

## Уникальные подходы

- Оптимистичные апдейты: лайки и репосты отображаются мгновенно на фронте, а затем синхронизируются с сервером.
- Универсальный поиск: поддержка как ключевых слов, так и хэштегов (#tag) в одном эндпоинте.
- Динамическая CORS-настройка: в проде разрешается только домен фронтенда.
- Профиль по клику: пользователь может перейти на страницу другого по клику на имя в ленте.

## Компромиссы

- Для скорости разработки таблицы создаются через Base.metadata.create_all.
- Репост своего поста запрещён на сервере, но на фронте кнопка просто дизейблится.
- Ответы на лайк/анлайк возвращают 204 No Content (простота) вместо нового состояния поста (удобнее было бы 200 с JSON).

## Известные проблемы

- Нет загрузки и хранения картинок/медиа — только текстовые посты.
- Нет обновления ленты в реальном времени.

## Почему этот стек

- FastAPI — быстрый в разработке, строгая типизация, автогенерация Swagger UI.
- PostgreSQL — надёжная СУБД, легко расширять (GIN-индексы для поиска).
- Next.js (React + TypeScript) — удобная маршрутизация и современный DX, автоматический SSR/SSG.
- Railway + Vercel — простое развертывание бэка и фронта с минимальной конфигурацией.